/**
 * Word-Level Highlight Styles
 *
 * Subtle warmth that cools as text is read - like a sparkler's
 * afterglow fading on the wire.
 */

/* Base word span styling */
.w {
  --heat: 0;
  position: relative;
  display: inline;
  border-radius: 1px;

  /* Warm tint via background - visible but not distracting */
  background-color: rgba(200, 160, 100, calc(var(--heat) * 0.12));

  /* Smooth cooling transition */
  transition: background-color 0.3s ease-out;
}

/* When highlight is active, unread words have warmth */
body.word-highlight-active .w {
  --heat: 1;
}

/* Read words cool to default (transparent) */
body.word-highlight-active .w.w-read {
  --heat: 0;
}

/* Active word - the burn point */
.w.w-active {
  --heat: 1.5;
}

/* Transition zone - gradient cooling */
.w.w-near {
  /* Heat set dynamically via JS */
}

/* Clickable words - subtle hover */
.w:hover {
  background: rgba(200, 180, 150, 0.1);
  cursor: pointer;
}

/* Focus state for accessibility */
.w:focus {
  outline: 2px solid rgba(180, 140, 100, 0.4);
  outline-offset: 1px;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .w {
    transition: none;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .w {
    /* Warmer, slightly brighter tint for dark backgrounds */
    background-color: rgba(220, 180, 120, calc(var(--heat) * 0.15));
  }
}

/* Mobile adjustments */
@media (max-width: 600px) {
  .w {
    /* Slightly larger touch targets */
    padding: 2px 0;
  }

  .w:hover {
    background: transparent;
  }

  .w:active {
    background: rgba(200, 180, 150, 0.15);
  }
}
